language: generic
matrix:
  include:
  - os: linux
    dist: bionic
    sudo: false
    addons:
      apt:
        sources:
        - sourceline: deb [arch=amd64] https://packages.microsoft.com/ubuntu/18.04/prod
            bionic main
          key_url: https://packages.microsoft.com/keys/microsoft.asc
        packages:
        - powershell
before_install:
- sudo apt-get update
- sudo apt-get install python3.6-venv
install:
- sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10
- "./scripts/init-env.sh"
script:
- pwsh ./scripts/run.ps1
deploy:
  provider: releases
  api_key: "$GITHUB_TOKEN"
  file_glob: true
  file:
  - dist/FiraCodeScript-*.ttf
  skip_cleanup: true
  on:
    tags: true
  edge: true
env:
  global:
    secure: brN1E0dCE5gEb+qnSVBR2zMW9ckPIjgKIAItCd7zqeQr/C+R2xQLGeeUROW0TZw8xUj5+aMgA8wESNH2rphVWxRE6G6V2Vxlqg9G0C67R0+mLLKtrt+bJhiA3xXTthDvEuBRsNXPjy0XPSWDttMCCAGy4HSb0FoQ9cqXmje8vxcCkTZBVicjwEx2Xn0mUdLs/cUwdmCVmv7urb7lmj8LAQdEVBNRR6RL5bju6k1YnWLLPxE23MVTeaNShOk4R9+oUYcOZZmIqBgiUEHjdiHIwk0KkBHrRjs7ea1JseR4C3qp99yWevdwtX2QFUmwl66FAk/zuGxmYHVZ0kisgQKstM+EIkvZuZIMQ0h8g7V09dWSqdfenlW4T2tnJASIm6ecqNqtGkZOzKPSBgA8NZ6XYoUF/cy126sd+bepxAudTxxbtt11WmewUJ6eYzjwZCNts02XoXVaXSWt0wWTi42li085FgkxjhKJU6yUNZwnNUJYr5Ni2P120QmzlShzdmsgElprT8v+LtxwwxnyWYNqowjoCEWj564wgjEtcSx03PA07K4EPZw0fnHUEGQUGgNNwA9Qf9VqMtrwG6SSatPQJwY7BnMB5bg4ta8Cwjx2r82ZnDmQpOLHyqodE0SRihTq1JPNhKX+T3fg8odBhDCoq71go4GY7UpQbIMUOoWeCds=
